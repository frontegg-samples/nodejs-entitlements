"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.appendUserIdAttribute = exports.findUserId = void 0;
const types_1 = require("../../identity/types");
function findUserId(entity) {
    switch (entity.type) {
        case types_1.tokenTypes.UserToken:
            return entity.sub;
        case types_1.tokenTypes.UserApiToken:
        case types_1.tokenTypes.UserAccessToken:
            return entity.userId;
    }
}
exports.findUserId = findUserId;
function appendUserIdAttribute(customAttrs, entity) {
    const userId = findUserId(entity);
    return userId ? { ...customAttrs, 'frontegg.userId': userId } : customAttrs;
}
exports.appendUserIdAttribute = appendUserIdAttribute;
//# sourceMappingURL=frontegg-entity.helper.js.map